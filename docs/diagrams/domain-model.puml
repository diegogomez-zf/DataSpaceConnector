@startuml
'https://plantuml.com/object-diagram

skinParam NoteBackgroundColor WhiteSmoke
skinParam NoteFontColor Black
skinParam ParticipantBackgroundColor WhiteSmoke
skinParam ActorBackgroundColor WhiteSmoke
skinParam AgentBackgroundColor White
skinParam AgentBorderColor SkyBlue
skinparam shadowing false

object "Policy" as policy {
  Technically processable contract
}

object "Contract Offer" as contract_offer{
   Dynamically generated and \nnot persisted anywhere
   --contains--
   Asset
   Policy
}

object "Contract Negotiation" as contractNegotiation{
    Persistent in contractNegotiationStore
}

object "Contract Agreement" as contractAgreement{
    1 Asset
    Policy
    Persistent
}

object "Resource" as resource{
    Describes resources of the data transfer
}

object "Asset" as asset{
    Describes data which should be transferred
    Tripplet [Resource, representation, artifact]
}

object "Contract Definition" as contractDefinition{
    Template for contract offers
    --Contains--
    * Access Policy
    * Contract Policy
    * Asset selector
}

object "Data Address" as dataAddress{
    Describes datasource for Asset-Data.
}

object "Data Request" as dataRequest{
    -- Contains --
    * AssetID
    * ContractID
    * dataDestination
}

object "Transfer Process" as transferProcess{
    Runs through a state machine.
    Symbolizes the data transfer on the control plane.
}

contractDefinition --> policy: contains
contractDefinition --> asset: selects (0..*) \nvia AssetSelector
contract_offer --> contractAgreement: After agreement
asset "1" --> "1" dataAddress: contains
contractDefinition --> contract_offer: Generates x \n contract offers
contractNegotiation --> contractAgreement: Contains the\nfinal agreement
contractDefinition --> contract_offer: Generates x \n contract offers
transferProcess --> resource: Provisions,\ntransfers,\nand deprovisions
transferProcess --> dataRequest: Contains
dataRequest --> dataAddress: Describes where the\ndata should be copied
contractNegotiation --> contract_offer: Contains history of\nseveral offers

@enduml

